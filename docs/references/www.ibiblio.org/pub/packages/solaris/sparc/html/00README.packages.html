<HTML>
<HEAD>
<TITLE>Solaris Package Archive</TITLE>
</HEAD>
<BODY BGCOLOR="FFFFFF">
<BR>
<H1>Solaris Package Archive</H1>
Mark &lt;mark&#64ibiblio.org&gt;<BR><BR>
Welcome to the Solaris Package Archive. These files are supplied as a service
to the internet community to allow them to quickly configure their machines
with useful free software.<BR>
<BR>
A package, in this sense of the word, is a installable collection of files
with embedded configuration details which instruct the installing program
on file attributes, locations, pre and post installation procedures and also
system requirements. Solaris comes with the complete System V package tools
installed. You don't need to do anything special to utilize them.<BR>
<BR>
For those whose experience with packages is limited to the installation of the
operating system or patches, well there is a lot of useful functionality
hidden in the pkg system. By far the most outstanding benefit is the ability
to add and remove software quickly and relatively thoughtlessly and being
confident that all of the old versions of software have been removed. Too many
times I've seen sites with left over files and directories from old versions
of compilers, development tools and communications programs. This is inherently
a problem both for disk usage and cluttering and also ending up in a situation
where you don't know what belongs on your system and what is garbage.<BR>
<BR>
To avoid these problems on the systems I am responsible for, and because I
don't see the point in compiling the same program twenty times, I have created
package formats of the tools I install. Creation of the packages is remarkably
easy after the first few, somewhat droll one might say. However the work pays
off when I can confidentally add software quickly and easily to a new host.
As a guide it takes less than 30 minutes to configure an Ultra Server to a
state where users can do whatever users do, where before it would have taken
days or longer to configure and build the files.<BR>
<BR>
See the <A HREF="#Trouble Shooting">Trouble Shooting</A> section below if you have problems.<BR>
<BR>
<H2>Contents</H2>
<OL>
<A HREF="#Download">Main Archive Site</A><BR>
<A HREF="#Notes">Points to note</A><BR>
<A HREF="#Groups Of Packages">Groups Of Packages</A><BR>
<A HREF="#Package Assumptions">Package Assumptions</A><BR>
<A HREF="#Package Installation">Package Installation</A><BR>
<A HREF="#Environment Variables">Environment Variables</A><BR>
<A HREF="#Trouble Shooting">Trouble Shooting</A><BR>
<A HREF="#Package Verification">Package Verification</A><BR>
<A HREF="#Removing Packages">Removing Packages</A><BR>
<A HREF="#Creating Packages">Creating Packages</A><BR>
<A HREF="#Other Package Commands">Other Package Commands</A><BR>
</OL>
<A NAME="Download"></A>
&nbsp;<BR>
<H2>Main Archive Site</H2>
The main site for these files is at UNC, North Carolina, USA. They are hosted
on Ibiblio.org. I'd like to thank the UNC for their support.
The packages can be located on the sites below. Don't email the admins about
the packages. Email me.<BR>
<BR>
<H3>Ibiblio.org @ UNC :</H3>
<OL>
<A HREF="http://www.ibiblio.org/pub/packages/solaris/sparc/">http://www.ibiblio.org/pub/packages/solaris/sparc/</A><BR>
<A HREF="http://www.ibiblio.org/pub/packages/solaris/i86pc/">http://www.ibiblio.org/pub/packages/solaris/i86pc/</A><BR>
<A HREF="ftp://www.ibiblio.org/pub/packages/solaris/sparc/">ftp://www.ibiblio.org/pub/packages/solaris/sparc/</A><BR>
<A HREF="ftp://www.ibiblio.org/pub/packages/solaris/i86pc/">ftp://www.ibiblio.org/pub/packages/solaris/i86pc/</A><BR>
</OL>
<BR>
<H2>Mirroring</H2>
If you want to obtain a copy of these packages you can use a variety of methods. FTP, wget and rsync allow command line fetching. To obtain them via rsync you can use variants of this command:<BR>
<OL>
<DD><DL><FONT FACE="Courier New" SIZE="-1">% rsync -av --dry-run --no-motd ftp.ibiblio.org::solaris/ .</FONT></DL><BR>
To fetch all Solaris 10 SPARC 64 bit packages:<BR>
<BR>
<DD><DL><FONT FACE="Courier New" SIZE="-1">%  rsync -av --dry-run --no-motd --include 'sparc/' --include '*SPARC.64bit.Solaris.10.*' --exclude '*' ftp.ibiblio.org::solaris/ .</FONT></DL><BR>
Obviously you need to remove the <FONT FACE="Courier New" SIZE="-1">--dry-run</FONT> argument first to actually transfer files.<BR>
</OL>
<BR>
<H2>Authorized Mirrors</H2>
These sites are co-operating to provide these files at locations where network connectivity makes sense to mirror. Many thanks to their admins.<BR>
<BR>
In alphabetical order:<BR>
<BR>
<H3>SunSITE Germany</H3>
<OL>
Machine Admin : &lt;<A HREF="mailto:info@sunsite.informatik.rwth-aachen.de">info@sunsite.informatik.rwth-aachen.de</A>&gt;<BR>
<A HREF="http://sunsite.informatik.rwth-aachen.de/solarispkg/sparc/">http://sunsite.informatik.rwth-aachen.de/solarispkg/sparc/</A><BR>
<A HREF="http://sunsite.informatik.rwth-aachen.de/solarispkg/i86pc/">http://sunsite.informatik.rwth-aachen.de/solarispkg/i86pc/</A><BR>
<A HREF="ftp://sunsite.informatik.rwth-aachen.de/pub/mirror/solaris/sparc/">ftp://sunsite.informatik.rwth-aachen.de/pub/mirror/solaris/sparc/</A><BR>
<A HREF="ftp://sunsite.informatik.rwth-aachen.de/pub/mirror/solaris/i86pc/">ftp://sunsite.informatik.rwth-aachen.de/pub/mirror/solaris/i86pc/</A><BR>
</OL>
<!--
<H3>SunSITE Japan</H3>
<OL>
Machine Admin: Devendra Narayan &lt;<A HREF="mailto:narayan@cc.kagu.sut.ac.jp">narayan@cc.kagu.sut.ac.jp</A>&gt;<BR>
<A HREF="http://sunsite.sut.ac.jp/sun/solaris-binaries/sparc/">http://sunsite.sut.ac.jp/sun/solaris-binaries/sparc/</A><BR>
<A HREF="http://sunsite.sut.ac.jp/sun/solaris-binaries/i86pc/">http://sunsite.sut.ac.jp/sun/solaris-binaries/i86pc/</A><BR>
<A HREF="ftp://sunsite.sut.ac.jp/pub/sun-info/solaris-binaries/sparc/">ftp://sunsite.sut.ac.jp/pub/sun-info/solaris-binaries/sparc/</A><BR>
<A HREF="ftp://sunsite.sut.ac.jp/pub/sun-info/solaris-binaries/i86pc/">ftp://sunsite.sut.ac.jp/pub/sun-info/solaris-binaries/i86pc/</A><BR>
</OL>
-->
<H3>SunSITE Poland</H3>
<OL>
Machine Admin: Wojtek Sylwestrzak &lt;<A HREF="mailto:W.Sylwestrzak@icm.edu.pl">W.Sylwestrzak@icm.edu.pl</A>&gt;<BR>
<A HREF="http://sunsite.icm.edu.pl/pub/solaris/sparc/index.html">http://sunsite.icm.edu.pl/pub/solaris/sparc/index.html</A><BR>
<A HREF="ftp://sunsite.icm.edu.pl/pub/solaris/sparc/">ftp://sunsite.icm.edu.pl/pub/solaris/sparc/</A><BR>
<A HREF="ftp://sunsite.icm.edu.pl/pub/solaris/i86pc/">ftp://sunsite.icm.edu.pl/pub/solaris/i86pc/</A><BR>
</OL>
<!--
<H3>SunSITE Spain</H3>
<OL>
Machine Admin: Javier Puche &lt;<A HREF="mailto:javier.puche@rediris.es">javier.puche@rediris.es</A>&gt;<BR>
<A HREF="http://sunsite.rediris.es/ftp/mirror/solaris-packages/sparc/">http://sunsite.rediris.es/ftp/mirror/solaris-packages/sparc/</A><BR>
<A HREF="http://sunsite.rediris.es/ftp/mirror/solaris-packages/i86pc/">http://sunsite.rediris.es/ftp/mirror/solaris-packages/i86pc/</A><BR>
<A HREF="ftp://sunsite.rediris.es/mirror/solaris-packages/sparc/">ftp://sunsite.rediris.es/mirror/solaris-packages/sparc/</A><BR>
<A HREF="ftp://sunsite.rediris.es/mirror/solaris-packages/i86pc/">ftp://sunsite.rediris.es/mirror/solaris-packages/i86pc/</A><BR>
</OL>
-->
<H3>SWITCH Mirror Switzerland</H3>
<OL>
Machine Admin: Thomas Lenggenhager &lt;<A HREF="mailto:lenggenhager@switch.ch">lenggenhager@switch.ch</A>&gt;<BR>
<BR>
HTTP links:<BR>
<A HREF="http://mirror.switch.ch/mirror/solaris-binaries/sparc/">http://mirror.switch.ch/mirror/solaris-binaries/sparc/</A><BR>
<A HREF="http://mirror.switch.ch/mirror/solaris-binaries/i86pc/">http://mirror.switch.ch/mirror/solaris-binaries/i86pc/</A><BR>
<BR>
FTP links:<BR>
<A HREF="ftp://mirror.switch.ch/mirror/solaris-binaries/sparc/">ftp://mirror.switch.ch/mirror/solaris-binaries/sparc/</A><BR>
<A HREF="ftp://mirror.switch.ch/mirror/solaris-binaries/i86pc/">ftp://mirror.switch.ch/mirror/solaris-binaries/i86pc/</A><BR>
</OL>
Enjoy,<BR>
Mark &lt;mark&#64ibiblio.org&gt;<BR>
<BR>
<HR>
<A NAME="Notes"></A>
&nbsp;<BR>
<H2>Points to note</H1>
<BR>
<B>Backwards Compatibility</B><BR>
<OL>
Solaris is quite backwards compatible, you can generally take a binary from
an earlier release and run it successfully on a later version of Solaris.
This does NOT apply however to specific programs like GNUgcc in the long run.
When compiling the differences between the releases does start to become 
noticed, the different header files, libraries, patches and also new binaries.<BR>
<BR>
For some time I have been configuring the packages to check for the release
of Solaris on the machine you are attempting to install on, if it's different
from the version it was compiled for, the package will refuse to install. This
is a precaution to stop novice administrators shooting themselves in the proverbial
foot. Obviously the software will probably run, but it's much more desirable to
use the correct version for your O.S.<BR>
<BR>
<BR>
</OL>
<B>O.S. Packages Needed For Compiling</B><BR>
<OL>
You <B><I>will</I></B> get errors running the compilers if you do not have the right
installation of Solaris on your machine. The <I>minimal install</I> choice
will not install the packages you need to compile software. You will
need to <U>manually</U> install them. Using <FONT FACE="Courier New" SIZE="-1">admintool</FONT> may not work.<BR>
<BR>
<OL>
Install the Solaris CD.<BR>
Change to the <FONT FACE="Courier New" SIZE="-1">/cdrom/solaris_2_5/s0/Solaris.2.5</FONT> directory.<BR>
<FONT FACE="Courier New" SIZE="-1">pkgadd -d`pwd` SUNWhea SUNWarc SUNWbtool SUNWlibC SUNWlibCf SUNWlibm
SUNWlibms SUNWsprot SUNWtoo SUNWdfbh SUNWcg6h</FONT><BR>
</OL>
<BR>
The <I>developer install</I> choice may lack the packages as well. Check using
<FONT FACE="Courier New" SIZE="-1">pkginfo | more</FONT>.<BR>
<BR>
If using a release other than 2.5, change the path accordingly.<BR>
<BR>
The <FONT FACE="Courier New" SIZE="-1">`</FONT> characters above are "back tics", not single quotes. If you can't
tell the difference, change your font to <FONT FACE="Courier New" SIZE="-1">courier</FONT>.<BR>
<BR>
<BR>
</OL>
<B>X11 Support Not Included</B><BR>
<OL>
With the X11 games I am not really going to go out of my way to provide
detailed support for users. The reason for this is that they work for me
on a Solaris system with my X11R6.4 packages and if they don't work for you
then you will have to discover the reason for yourself. Most likely it will
be because of wrong versions of Solaris and X11. Caveat Emptor. See the
<A HREF="#Trouble Shooting">Trouble Shooting</A> section below for library errors.<BR>
<BR>
<BR>
</OL>
<B>Upgrading Your X11 To A New Release</B><BR>
<OL>
When installing a new package of X11, to do it properly you should first
uninstall all the other X11 packages you have installed. In reverse order
if possible. This means you should:<BR>
<BR>
<DD><FONT FACE="Courier New" SIZE="-1">pkgrm fvwm2 tetris roxndiam xpacman xpm X11R6.1</FONT><BR>
<BR>
The reason for this is you need to remove the packages from the old X11
directory and then add them into the new one. If you don't do this you
will have your other X11 programs "left behind" in the X11R6.1 directory.
Once this is done and you have added the new X11R6.x package, you can
<FONT FACE="Courier New" SIZE="-1">pkgadd</FONT> the X11 programs again:<BR>
<BR>
<DD><FONT FACE="Courier New" SIZE="-1">pkgadd X11R64 xpm fvwm2 tetris roxndiam xpacman</FONT><BR>
<BR>
You should then look in the old X11R6.x tree to find any left over files,
such as the xdm error logs, auth files etc. Unless you have added files
from somewhere else you should be able to delete the old X11R6.x tree.<BR>
<BR>
<BR>
</OL>
<B>Some Tools Have Strange Side Effects</B><BR>
<OL>
Some of you may have wondered why I haven't blitzed the archive with more
GNU tools. Apart from a relentless pursuit of laziness, it isn't really a
good idea to replace most Solaris binaries with GNU ones. For instance,
the GNU binutils can really give you weird results which can shorten your
life. Very few sane admins install these. I try to supply packages which
you can use and won't go biting you in soft places. You're welcome.<BR>
<BR>
<BR>
</OL>
<B>Solaris <FONT FACE="Courier New" SIZE="-1">tar</FONT> Should Be Used</B><BR>
<OL>
Some of you have reported errors in packages where file names have been
truncated whilst unpacking. The reason for this is you are not using
<FONT FACE="Courier New" SIZE="-1">/usr/bin/tar</FONT> to unpack the archive,
more likely it's <FONT FACE="Courier New" SIZE="-1">/usr/local/bin/tar</FONT>
which is usually GNUtar. Use the Solaris tar instead.<BR>
</OL>
<BR>
<A NAME="Groups Of Packages"></A>
&nbsp;<BR>
<H2>Groups Of Packages</H2>
Some packages need to be used in conjunction with others, or are compiled to
specifically use a certain version of another package. To install properly you
will need to install all parts of the group.<BR>
<BR>
To identify which package requires other libraries etc to run, you will need to
use the <FONT FACE="Courier New" SIZE="-1">ldd</FONT> tool to identify missing
libraries. Usually it's reasonably simple to match a required library to the
package that ships with it but sometimes it gets tricky. Notably the
<FONT FACE="Courier New" SIZE="-1">libintl</FONT> library ships in the
<FONT FACE="Courier New" SIZE="-1">gettext</FONT> package and is widley used
by many other programs.<BR>
<BR>
An example of one of the most demanding packages is PHP. Here's the list of required
extra software:<BR>
<PRE>
# Required for /usr/local/lib/libz.so
zlib.1.2.8

# Required for /usr/local/lib/libexslt.so.0
# Required for /usr/local/lib/libxslt.so.1
# Required for /usr/local/lib/libxml2.so.2
libxml2.2.7.7

# Required for /usr/local/lib/libgcrypt.so.11
libidn.1.24

# Required for /usr/local/lib/libgpg-error.so.0
libgpg-error.1.9

# Required for /usr/local/lib/libreadline.so.6
readline.6.1

# Required for /usr/local/mysql/lib/libmysqlclient.so.18
mysql.5.5.11

# Required for /usr/local/lib/libmcrypt.so.4
libmcrypt.2.5.8

# Required for /usr/local/lib/libltdl.so.7
libtool.2.2.10

# Required for /usr/local/lib/libfreetype.so.6
freetype.2.4.1

# Required for /usr/local/lib/libXpm.so.4
libxpm.3.5.8

# Required for /usr/local/lib/libX11.so.6
libx11.1.3.4

# Required for /usr/local/lib/libxcb.so.1
libxcb.1.6

# Required for /usr/local/lib/libXau.so.6
libxau.1.0.6

# Required for /usr/local/lib/libXdmcp.so.6
libxdmcp.1.0.3

# Required for /usr/local/lib/libpng14.so.14
libpng.1.4.3

# Required for /usr/local/lib/libjpeg.so.8
libjpeg.8b

# Required for /usr/local/lib/libdb-4.8.so
db.4.8.30

# Required for /usr/local/lib/libgdbm.so.3
libgdbm.1.8.3

# Required for /usr/local/lib/libbz2.so
bzip2.1.0.6

# Required for /usr/local/lib/libpcre.so.0
pcre.8.10

# Required for /usr/local/lib/libssl.so.0.9.8
# Required for /usr/local/lib/libcrypto.so.0.9.8
openssl.0.9.8y

# Required for /usr/local/lib/libgssapi_krb5.so.2
# Required for /usr/local/lib/libkrb5.so.3
# Required for /usr/local/lib/libk5crypto.so.3
# Required for /usr/local/lib/libcom_err.so.3
krb5.1.8.2

# Required for /usr/local/lib/libcurl.so.4
curl.7.21.3

# Required for /usr/local/lib/libidn.so.11
libidn.1.24

# Required for /usr/local/lib/libssh2.so.1
libssh2.1.4.1

# Required for /usr/local/lib/libldap-2.4.so.2
# Required for /usr/local/lib/liblber-2.4.so.2
openldap.2.4.23

# Required for /usr/local/lib/libintl.so.8
gettext.0.18.1.1

# Required for /usr/local/lib/libiconv.so.2
libiconv.1.13.1

# Required for /usr/local/lib/libiodbc.so.2
libiodbc.3.52.7
</PRE>
Once you've satisfied all of those dependancies then you'll still have to find
the library dependancies of the software you just added to support PHP. It's a
bit of work sometimes.<BR>
<BR>
<A NAME="Package Assumptions"></A>
&nbsp;<BR>
<H2>Package Assumptions</H2>
I have used <FONT FACE="Courier New" SIZE="-1">/usr/local</FONT> as the top
directory of my tree. All files are owned by
<FONT FACE="Courier New" SIZE="-1">root</FONT> and the group is
<FONT FACE="Courier New" SIZE="-1">root</FONT> as well. All files are world
readable and only <FONT FACE="Courier New" SIZE="-1">root</FONT> is able to
write to them unless explicitly needed. If your contributed software tree is not
<FONT FACE="Courier New" SIZE="-1">/usr/local</FONT>
then you will need to do further work to integrate the new software. This may
involve loopback mounts to avoid having a
<FONT FACE="Courier New" SIZE="-1">/usr/local</FONT> softlink overwritten.
(This will happen in a few of the packages, the more recent ones don't change
either the <FONT FACE="Courier New" SIZE="-1">/usr</FONT> or
<FONT FACE="Courier New" SIZE="-1">/usr/local</FONT> directory inodes.)<BR>
<BR>
<A NAME="Package Installation"></A>
&nbsp;<BR>
<H2>Package Installation</H2>
If you have problems, see the <A HREF="#Trouble Shooting">Trouble Shooting</A> section below.<BR>
<BR>
To install you will need to either FTP or HTTP fetch the relevant tgz or .pkg file to your local system. For .tgz files you then need to unpack it into a
file system tree. (A .tgz file is a tar file that is gzipped). For older Solaris releases you will need to
install the GNUzip package first, (it is not compressed), to uncompress the
other files.<BR>
<BR>
If using FTP to get your files, <A HREF="#Download">fetch</A> the pkg.tgz files in <B>BINARY</B> or <B>IMAGE</B>
mode. You must unpack the files in a directory the user
<FONT FACE="Courier New" SIZE="-1">nobody</FONT> can access. I recommend
<FONT FACE="Courier New" SIZE="-1">/var/tmp</FONT>.<BR>
<BR>
Once you have the file cached locally, (we will use GNUzip as the demonstration pkg),
you can unpack it (if required) with these methods:<BR>
<BR>
For a pkg.tgz file:<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
% umask 0<BR>
% cd /var/tmp<BR>
% gunzip -c GNUzip.1.2.4.SPARC.Solaris.2.5.pkg.tgz | /usr/bin/tar -xvf -<BR>
</FONT>
</OL>
For a pkg.tar file:<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
% umask 0<BR>
% cd /var/tmp<BR>
% /usr/bin/tar -xvf GNUzip.1.2.4.SPARC.Solaris.2.5.pkg.tar<BR>
GNUzip/<BR>
GNUzip/pkgmap<BR>
GNUzip/pkginfo<BR>
GNUzip/root/<BR>
GNUzip/root/usr/<BR>
GNUzip/root/usr/local/<BR>
GNUzip/root/usr/local/bin/<BR>
GNUzip/root/usr/local/bin/gzexe<BR>
GNUzip/root/usr/local/bin/gzip<BR>
GNUzip/root/usr/local/bin/zdiff<BR>
GNUzip/root/usr/local/bin/zforce<BR>
GNUzip/root/usr/local/bin/zgrep<BR>
GNUzip/root/usr/local/bin/zmore<BR>
GNUzip/root/usr/local/bin/znew<BR>
GNUzip/root/usr/local/info/<BR>
GNUzip/root/usr/local/info/gzip.info<BR>
GNUzip/root/usr/local/man/<BR>
GNUzip/root/usr/local/man/man1/<BR>
GNUzip/root/usr/local/man/man1/gzexe.1<BR>
GNUzip/root/usr/local/man/man1/gzip.1<BR>
GNUzip/root/usr/local/man/man1/zdiff.1<BR>
GNUzip/root/usr/local/man/man1/zforce.1<BR>
GNUzip/root/usr/local/man/man1/zgrep.1<BR>
GNUzip/root/usr/local/man/man1/zmore.1<BR>
GNUzip/root/usr/local/man/man1/znew.1<BR>
</FONT>
</OL>
Change your uid to root:<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
% su - root<BR>
Password:<BR>
#
</FONT>
</OL>
Ensure you are in the correct directory, i.e. your current directory must
contain the packages you wish to install:<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
# ls -aCF<BR>
./ &nbsp; ../ &nbsp; GNUzip/<BR>
</FONT>
</OL>
Install the package onto the system. You tell it where to find the package, (i.e. in the '.' or $PWD directory, or just the .pkg file itself), and then the name of the package you want to add.<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
# pkgadd -d`pwd` GNUzip<BR>
</FONT>or :<FONT FACE="Courier New" SIZE="-1"><BR>
# pkgadd -d. GNUzip<BR>
</FONT>or :<FONT FACE="Courier New" SIZE="-1"><BR>
# pkgadd -d$PWD GNUzip<BR>
</FONT>or :<FONT FACE="Courier New" SIZE="-1"><BR>
# pkgadd -d GNUzip.1.24.i86pc.Solaris.2.6.pkg GNUzip<BR>
</FONT>
</OL>
You will see:<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
Processing package instance &lt;GNUzip&gt; from &lt;/var/tmp&gt;<BR>
<BR>
GNU zip 1.2.4<BR>
(sun4,sun4c,sun4m,sun4e,sun4u) 1.2.4<BR>
GNU<BR>
## Processing package information.<BR>
## Processing system information.<BR>
 &nbsp; 8 package pathnames are already properly installed.<BR>
## Verifying disk space requirements.<BR>
## Checking for conflicts with packages already installed.<BR>
<BR>
The following files are already installed on the system and are being<BR>
used by another package:<BR>
* /usr/local/bin/gzip<BR>
<BR>
* - conflict with a file which does not belong to any package.<BR>
<BR>
Do you want to install these conflicting files [y,n,?,q] y<BR>
## Checking for setuid/setgid programs.<BR>
<BR>
Installing GNU zip 1.2.4 as &lt;GNUzip&gt;<BR>
<BR>
## Installing part 1 of 1.<BR>
/usr/local/bin/gzexe<BR>
/usr/local/bin/gzip<BR>
/usr/local/bin/zdiff<BR>
/usr/local/bin/zforce<BR>
/usr/local/bin/zgrep<BR>
/usr/local/bin/zmore<BR>
/usr/local/bin/znew<BR>
/usr/local/info/gzip.info<BR>
/usr/local/man/man1/gzexe.1<BR>
/usr/local/man/man1/gzip.1<BR>
/usr/local/man/man1/zdiff.1<BR>
/usr/local/man/man1/zforce.1<BR>
/usr/local/man/man1/zgrep.1<BR>
/usr/local/man/man1/zmore.1<BR>
/usr/local/man/man1/znew.1<BR>
[ verifying class &lt;none&gt; ]<BR>
/usr/local/bin/gunzip &lt;linked pathname&gt;<BR>
/usr/local/bin/zcat &lt;linked pathname&gt;<BR>
/usr/local/bin/zcmp &lt;linked pathname&gt;<BR>
/usr/local/man/man1/gunzip.1 &lt;linked pathname&gt;<BR>
/usr/local/man/man1/zcat.1 &lt;linked pathname&gt;<BR>
/usr/local/man/man1/zcmp.1 &lt;linked pathname&gt;<BR>
<BR>
Installation of &lt;GNUzip&gt; was successful.<BR>
#<BR>
</FONT>
</OL>
As you can see I already had a gzip binary installed on the system, but not all
the other parts of it. I answered 'y' to overwrite the installed gzip with the
new package copy.<BR>
<BR>
After adding a package you will need to do housekeeping tasks (as root)
such as updating the manual page index:<BR>
<BR>
<DD><FONT FACE="Courier New" SIZE="-1"># catman -w &</FONT><BR>
<BR>
Also check your paths are up to date so you can "see" the new software.
Affected environment variables are <FONT FACE="Courier New" SIZE="-1">PATH</FONT>,
<FONT FACE="Courier New" SIZE="-1">MANPATH</FONT> and
<FONT FACE="Courier New" SIZE="-1">LD_LIBRARY_PATH</FONT>.<BR>
<A NAME="Bulk Installation"></A>
&nbsp;<BR>
Those who wish to install a lot of packages at once will find the
<A HREF="autoinstall.html">bulk installation</A> instructions useful.
<BR>
<A NAME="Environment Variables"></A>
&nbsp;<BR>
<H2>Environment Variables</H2>
To setup your accounts properly for these packages you need to have your
environment variables pointing to the software. You must have at least the
following set up:<BR>
<BR>
For <FONT FACE="Courier New" SIZE="-1">/bin/sh (~/.profile)</FONT> and
<FONT FACE="Courier New" SIZE="-1">/bin/ksh (~/.kshrc)</FONT>:<BR>
<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
LD_LIBRARY_PATH=/lib:/usr/lib:/usr/local/lib:/usr/local/X11/lib:/usr/dt/lib:/usr/openwin/lib<BR>
PATH=/usr/local/bin:/bin:/usr/ccs/bin:/etc:/usr/etc:/usr/local/X11/bin:/usr/ucb:/usr/openwin/bin:/usr/local/etc:/usr/sbin<BR>
MANPATH=/usr/local/man:/usr/man:/usr/local/X11/man<BR>
export LD_LIBRARY_PATH PATH MANPATH<BR>
<BR>
</FONT>Recommended:<BR><FONT FACE="Courier New" SIZE="-1">
<BR>
PAGER=less<BR>
EDITOR=vi<BR>
CC=cc<BR>
CXX=CC<BR>
export PAGER EDITOR CC CXX<BR>
</FONT>
</OL>
For <FONT FACE="Courier New" SIZE="-1">/bin/csh</FONT> and
<FONT FACE="Courier New" SIZE="-1">/usr/local/bin/tcsh (~/.cshrc)</FONT>:<BR>
<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
setenv LD_LIBRARY_PATH "/lib:/usr/lib:/usr/local/lib:/usr/local/X11/lib:/usr/dt/lib:/usr/openwin/lib"<BR>
setenv PATH "/usr/local/bin:/bin:/usr/ccs/bin:/etc:/usr/etc:/usr/local/X11/bin:/usr/ucb:/usr/openwin/bin:/usr/local/etc:/usr/sbin"<BR>
setenv MANPATH "/usr/local/man:/usr/man:/usr/local/X11/man"<BR>
<BR>
</FONT>Recommended:<BR><FONT FACE="Courier New" SIZE="-1">
<BR>
setenv PAGER less<BR>
setenv EDITOR vi<BR>
setenv CC cc<BR>
setenv CXX CC<BR>
</FONT>
</OL>
I've personally stopped using the <FONT FACE="Courier New" SIZE="-1">LD_LIBRARY_PATH</FONT> variable, preferring to use the <FONT FACE="Courier New" SIZE="-1">-R/usr/local/lib</FONT> compile flag so that libraries and binaries will automatically look in that directory for run time libraries. It makes the packages more resilient as they won't accidentally link to libraries in another random location first.<BR>
<A NAME="Trouble Shooting"></A>
&nbsp;
<H2>Trouble Shooting</H2>

I get a number of emails from people that report problems which seem to
congregate around a small amount of common errors. Predominately the compilers
cause people problems.<BR>
<BR>
Assuming the GNUgcc packages themselves installed correctly you might see the
following errors:<BR>
<BR>
<OL>
<B>An include file in the "va_args*" group is missing when called from stdio.h</B><BR>
<BR>
<OL>
You don't have the necessary compiling packages installed on your machine.<BR>
<BR>
<OL>
When Solaris is installed on a machine it asks which setup to
install; "Minimal", "Developer", "Full Installation" or even
"Full Installation with OEM support". Only some of these choices
will give you the packages you need to compile your own programs.
If you read the <A HREF="#Notes">Notes</A> section earlier in this file it will tell
you how to manually (not with <FONT FACE="Courier New" SIZE="-1">admintool</FONT>)
add the files to your system. This is a very common problem I see a lot.<BR>
<BR>
</OL>
</OL>
<B>Your X11 libraries don't match or aren't found.</B><BR>
<BR>
<OL>
Often X11 libraries will have different revision numbers and a
program expecting a version of a library to enable it to run will
report an error if it can't find the library it is looking for.
The quickest solution is to link the missing library to one you
do have on your machine:<BR>
<BR>
<DD><FONT FACE="Courier New" SIZE="-1">cd /usr/local/X11R6.1/lib; ln -s libX11.so.6.0 libX11.so.6.1</FONT><BR>
<BR>
This provides a <FONT FACE="Courier New" SIZE="-1">libX11.so.6.1</FONT>
which allows any program looking for it to continue running.<BR>
<BR>
Also make sure your <FONT FACE="Courier New" SIZE="-1">LD_LIBRARY_PATH</FONT>
includes all the X11 libraries:<BR>
<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
LD_LIBRARY_PATH=/lib:/usr/lib:/usr/local/lib:/usr/local/X11/lib:/usr/dt/lib:/usr/openwin/lib<BR>
</FONT>
See the <A HREF="#Environment Variables">Environment Variables</A> section.<BR>
<BR>
</OL>
</OL>
<B>You can't find your mission critical X11 games or fvwm2 window manager.</B><BR>
<BR>
<DD>You didn't <FONT FACE="Courier New" SIZE="-1">pkgrm</FONT> and then
<FONT FACE="Courier New" SIZE="-1">pkgadd</FONT> them. See the
<A HREF="#Notes">Notes</A> section above.<BR>
<BR>
<B>My <FONT FACE="Courier New" SIZE="-1">xv</FONT> is complaining about a
missing <FONT FACE="Courier New" SIZE="-1">xpm</FONT> library.</B><BR>
<BR>
<DD>Install the <FONT FACE="Courier New" SIZE="-1">xpm</FONT> package found on this site.<BR>
<DD>Check your <FONT FACE="Courier New" SIZE="-1">LD_LIBRARY_PATH</FONT> variable.
See the <A HREF="#Environment Variables">Environment Variables</A> section.<BR>
<BR>
<B>Your package doesn't verify. Missing <FONT FACE="Courier New" SIZE="-1">packet.h</FONT>.</B><BR>
<BR>
<DD>Use Solaris tar to unpack the packages. <FONT FACE="Courier New" SIZE="-1">pkgrm</FONT>
the installed package and then install it correctly. See the
<A HREF="#Notes">Notes</A> section above.<BR>
<BR>
<B>You can't compile any network programs without
<FONT FACE="Courier New" SIZE="-1">__inet_addr()</FONT> errors.</B><BR>
<BR>
<OL>
The bind.8.1.1 package installs it's own <arpa/inet.h> file in the
<FONT FACE="Courier New" SIZE="-1">/usr/local/include/arpa directory</FONT>.
GNUgcc will search this directory before
<FONT FACE="Courier New" SIZE="-1">/usr/include</FONT> and thereby break
your compiles if you don't link in the bind library as well.<BR>
<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
host:/var/tmp root# gcc -o addr addr.c -lnsl<BR>
Undefined &nbsp; &nbsp; &nbsp; &nbsp; first referenced<BR>
 symbol &nbsp; &nbsp; &nbsp; &nbsp; &nbsp;&nbsp; in file<BR>
__inet_addr &nbsp; &nbsp; &nbsp; /var/tmp/cca0073y1.o<BR>
ld: fatal: Symbol referencing errors. No output written to addr<BR>
host:/var/tmp root# gcc -o addr addr.c -lnsl -lbind<BR>
host:/var/tmp root# <BR>
</FONT>
</OL>
</OL>
<BR>
<B>Adding a package dies with "can't open" for the
<FONT FACE="Courier New" SIZE="-1">checkinstall</FONT> script</B><BR>
<BR>
<OL>
You need to make sure the user "nobody" can run the
<FONT FACE="Courier New" SIZE="-1">checkinstall</FONT>
script. The package file unpacks itself properly using the provided
instructions but you need to make sure the parent directories can be
passed through, (i.e. user "<FONT FACE="Courier New" SIZE="-1">nobody</FONT>"
can 'cd' through them).<BR>
<BR>
To decode the problem you might see something like this:<BR>
<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
Processing package instance &lt;GNUg77&gt; from &lt;/export/home/mark/software&gt;<BR>
...<BR>
/export/home/mark/software/GNUg77/install/checkinstall: cannot open<BR>
</FONT>
</OL>
<BR>
This is telling me the directory
<FONT FACE="Courier New" SIZE="-1">/export/home/mark/software</FONT> is
not searchable for the "<FONT FACE="Courier New" SIZE="-1">nobody</FONT>" user.
I should probably unpack the <FONT FACE="Courier New" SIZE="-1">.pkg.tgz</FONT>
file in <FONT FACE="Courier New" SIZE="-1">/var/tmp</FONT> instead. Also
I should make sure I do a <FONT FACE="Courier New" SIZE="-1">umask 0</FONT>
command first so I don't pollute the permissions when unpacking.<BR>
</OL>
<BR>
Only a very small number of problems can be attributed to other causes. Once
I used the wrong tar on a package, another time someone used the wrong g++
compilation option. Out of 254,526 installations (to date) of GNUgcc I haven't
seen a single problem that wasn't mentioned here. If you do encounter one,
email me at mark&#64ibiblio.org.
Please include the output of <FONT FACE="Courier New" SIZE="-1">uname -a</FONT>.
Also, telling me the name and version of the package helps a lot. :)<BR>
<BR>
If a packages file permissions don't let you retrieve it then it is likely
the package is not ready for release yet. Please wait until I have reset
the access rights to publish the file. Don't email me :)<BR>
<BR>
<A NAME="Package Verification"></A>
&nbsp;<BR>
<H2>Package Verification</H2>
To verify that a package is installed use:<BR>
<BR>
<FONT FACE="Courier New" SIZE="-1">
<DD>% pkginfo | grep zip
<DD>utility &nbsp; &nbsp; GNUzip &nbsp; &nbsp; GNU zip 1.2.4<BR>
</FONT>
or:<BR>
<FONT FACE="Courier New" SIZE="-1">
<DD>% pkgchk GNUzip<BR>
<DD>%<BR>
</FONT>
<BR>
or, to check what is in the pkg:<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
% pkgchk -v GNUzip<BR>
/usr<BR>
/usr/local<BR>
/usr/local/bin<BR>
/usr/local/bin/gunzip<BR>
/usr/local/bin/gzexe<BR>
/usr/local/bin/gzip<BR>
/usr/local/bin/zcat<BR>
/usr/local/bin/zcmp<BR>
/usr/local/bin/zdiff<BR>
/usr/local/bin/zforce<BR>
/usr/local/bin/zgrep<BR>
/usr/local/bin/zmore<BR>
/usr/local/bin/znew<BR>
/usr/local/info<BR>
/usr/local/info/gzip.info<BR>
/usr/local/lib<BR>
/usr/local/man<BR>
/usr/local/man/man1<BR>
/usr/local/man/man1/gunzip.1<BR>
/usr/local/man/man1/gzexe.1<BR>
/usr/local/man/man1/gzip.1<BR>
/usr/local/man/man1/zcat.1<BR>
/usr/local/man/man1/zcmp.1<BR>
/usr/local/man/man1/zdiff.1<BR>
/usr/local/man/man1/zforce.1<BR>
/usr/local/man/man1/zgrep.1<BR>
/usr/local/man/man1/zmore.1<BR>
/usr/local/man/man1/znew.1<BR>
</FONT>
</OL>
If desired you can now rm the pkg.tgz file and the package directory.
I recommend keeping the pkg.tgz files handy in case of a disc crash etc.<BR>
<BR>
To see what third party packages you have installed a quick check is:<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
% pkginfo | grep -v SUNW<BR>
utility &nbsp; GNUbison &nbsp; GNU bison 1.25 SPARC Solaris 2.4<BR>
utility &nbsp; GNUcvs &nbsp; &nbsp; GNU cvs 1.9 SPARC Solaris 2.4<BR>
utility &nbsp; GNUflex &nbsp;&nbsp; GNU flex 2.5.4a SPARC Solaris 2.4<BR>
utility &nbsp; GNUgcc &nbsp; &nbsp; GNU gcc 2.8.1 SPARC Solaris 2.4<BR>
utility &nbsp; GNUgdb &nbsp; &nbsp; GNU gdb 4.16 SPARC Solaris 2.4<BR>
utility &nbsp; GNUgdbm &nbsp;&nbsp; GNU libgdbm 1.7.3 SPARC Solaris 2.4<BR>
utility &nbsp; GNUgroff &nbsp; GNU groff 1.11 SPARC Solaris 2.4<BR>
utility &nbsp; GNUindent &nbsp;GNU indent 1.9.1 SPARC Solaris 2.4<BR>
utility &nbsp; GNUlibstc &nbsp;GNU libstdc++ 2.8.1.1 SPARC Solaris 2.4<BR>
utility &nbsp; GNUm4 &nbsp; &nbsp;&nbsp; GNU m4 1.4 SPARC Solaris 2.4<BR>
utility &nbsp; GNUmake &nbsp;&nbsp; GNU make 3.77 SPARC Solaris 2.4<BR>
utility &nbsp; GNUpatch &nbsp; GNU patch 2.5 SPARC Solaris 2.4<BR>
utility &nbsp; GNUplot &nbsp;&nbsp; GNU plot 3.5 SPARC Solaris 2.4<BR>
utility &nbsp; GNUtar &nbsp; &nbsp; GNU tar 1.12 SPARC Solaris 2.4<BR>
utility &nbsp; GNUtexnfo &nbsp;GNU texinfo 3.9 SPARC Solaris 2.4<BR>
utility &nbsp; GNUzip &nbsp; &nbsp; GNU zip 1.2.4<BR>
utility &nbsp; less &nbsp; &nbsp; &nbsp; less 332 SPARC Solaris 2.4<BR>
utility &nbsp; perl5 &nbsp; &nbsp; &nbsp;perl 5.004.04 SPARC Solaris 2.4<BR>
utility &nbsp; rcs &nbsp; &nbsp; &nbsp;&nbsp; rcs 5.7 SPARC Solaris 2.4<BR>
utility &nbsp; tcsh &nbsp; &nbsp; &nbsp; tcsh 6.07.02 SPARC Solaris.2.4<BR>
utility &nbsp; troute &nbsp; &nbsp; traceroute 3.5<BR>
</FONT>
</OL>
<A NAME="Removing Packages"></A>
&nbsp;<BR>
<H2>Removing Packages</H2>
If you wish to install a new version of some packaged software that is already
installed, or to revert to a previous version you will have to remove the current
version from the system. You simply use:<BR>
<BR>
<DD><FONT FACE="Courier New" SIZE="-1"># pkgrm GNUzip</FONT><BR>
<BR>
and answer 'y' to delete the package from the system. I often juggle different
versions of packages when I am developing software and need to revert to older
versions.<BR>
<BR>
<A NAME="Creating Packages"></A>
&nbsp;<BR>
<H2>Creating Packages</H2>
To create packages is simple once you know what you are doing. To make your
own packages for your own personal use you might find these
<A HREF="creating.solaris.packages.html">instructions</A>
useful.<BR>
<BR>
Once you have made your package you will probably want to show it off etc. Please
don't email me asking me to include it in the archive, I am quite paranoid about
what binaries I run on my machines and it would be negligent of me to accept any
files from anyone else.<BR>
<BR>
<A NAME="Other Package Commands"></A>
&nbsp;<BR>
<H2>Other Package Commands</H2>
Most of the package commands are:<BR>
<OL>
<FONT FACE="Courier New" SIZE="-1">
% man -k pkg<BR>
pkgadd &nbsp; &nbsp; pkgadd (1m) &nbsp; - transfer software package to the system<BR>
pkgask &nbsp; &nbsp; pkgask (1m) &nbsp; - stores answers to a request script<BR>
pkgchk &nbsp; &nbsp; pkgchk (1m) &nbsp; - check accuracy of installation<BR>
pkginfo &nbsp; &nbsp;pkginfo (1) &nbsp; - display software package information<BR>
pkginfo &nbsp; &nbsp;pkginfo (4) &nbsp; - package characteristics file<BR>
pkgmap &nbsp; &nbsp; pkgmap (4) &nbsp;&nbsp; - package contents description file<BR>
pkgmk &nbsp; &nbsp;&nbsp; pkgmk (1) &nbsp; &nbsp; - produce an installable package<BR>
pkgparam &nbsp; pkgparam (1) &nbsp;- displays package parameter values<BR>
pkgproto &nbsp; pkgproto (1) &nbsp;- generate prototype file entries for pkgmk<BR>
pkgrm &nbsp; &nbsp;&nbsp; pkgrm (1m) &nbsp; &nbsp;- removes a package from the system<BR>
pkgtrans &nbsp; pkgtrans (1) &nbsp;- translate package format<BR>
</FONT><BR>
</OL>
</BODY>
</HTML>
