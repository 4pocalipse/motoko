<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- $Id: //doctools/online/man2html/main/templates/doccd_template.html#7 $ -->
<html>
<head>
<title>SunOS man pages</title>
</head>
<body bgcolor="#666699">
<a name="TOC"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#000000">
<!-- LOGO/ID/GEN LINKS ROW BEGIN -->
<tr valign="top"><td rowspan="2" align="right" bgcolor="#666699" width="1%"><a href="http://www.sun.com"><img src="../graphics/sunlogo.gif" alt="Sun Microsystems, Inc." height="60" width="119" border="0"></a></td><td colspan="3" width="99%"><table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td valign="top" width="1"><img src="../graphics/dot.gif" alt="spacer" height="3" width="1"></td><td colspan="2" valign="top"><img src="../graphics/dot.gif" alt="spacer" height="1" width="500"></td></tr>
<tr><td rowspan="2" valign="top" bgcolor="#CCCCFF" width="1"><img src="../graphics/dot.gif" alt="spacer" height="19" width="1"></td><td class="tid" nowrap="nowrap" height="20">&nbsp;&nbsp;<a class="nonuw" href="http://www.sun.com">
<font color="#ffffff">www.sun.com</font></a></td>
<td class="gnlnk" align="right" nowrap="nowrap"> 
<a class="nonuw" href="http://docs.sun.com">
<font color="#ffffff">docs.sun.com</font></a> | <a class="nonuw" href=""></a> | <a class="nonuw"></a> | <a class="nonuw"></a>&nbsp;  </td></tr>
<tr><td colspan="2" width="100%"><img src="../graphics/dot.gif" alt="spacer" height="1" width="499"></td></tr>
<tr><td colspan="3" align="right" bgcolor="#CCCCFF"><img src="../graphics/fade.gif" alt="black dot" height="1" width="1"></td></tr>
</table></td></tr>
<tr bgcolor="#666699"><td height="35" align="center">&nbsp;
</td><td align="right"> </td><td>&nbsp;</td></tr>
<!-- PULL DOWN/SEARCH ROW END -->
</table><table width="100%" border="0" frame="box" rules="all" cellspacing="0" cellpadding="0">
<tr bgcolor="white"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
<tr bgcolor="#CCCCFF">
<td colspan="6" align="center" valign="middle" height="25"><font
size="+2">
</font></td>
</tr>
<tr bgcolor="#CCCCFF">
<td colspan="6" height="20" align="center">
<!-- $Id: //doctools/online/man2html/main/templates/alphaindex.html#2 $ -->
<a href="../a.html"><font
color="#000000">A</font></a>
&nbsp;
<a href="../b.html"><font
color="#000000">B</font></a>
&nbsp;
<a href="../c.html"><font
color="#000000">C</font></a>
&nbsp;
<a href="../d.html"><font
color="#000000">D</font></a>
&nbsp;
<a href="../e.html"><font
color="#000000">E</font></a>
&nbsp;
<a href="../f.html"><font
color="#000000">F</font></a>
&nbsp;
<a href="../g.html"><font
color="#000000">G</font></a>
&nbsp;
<a href="../h.html"><font
color="#000000">H</font></a>
&nbsp;
<a href="../i.html"><font
color="#000000">I</font></a>
&nbsp;
<a href="../j.html"><font
color="#000000">J</font></a>
&nbsp;
<a href="../k.html"><font
color="#000000">K</font></a>
&nbsp;
<a href="../l.html"><font
color="#000000">L</font></a>
&nbsp;
<a href="../m.html"><font
color="#000000">M</font></a>
&nbsp;
<a href="../n.html"><font
color="#000000">N</font></a>
&nbsp;
<a href="../o.html"><font
color="#000000">O</font></a>
&nbsp;
<a href="../p.html"><font
color="#000000">P</font></a>
&nbsp;
<a href="../q.html"><font
color="#000000">Q</font></a>
&nbsp;
<a href="../r.html"><font
color="#000000">R</font></a>
&nbsp;
<a href="../s.html"><font
color="#000000">S</font></a>
&nbsp;
<a href="../t.html"><font
color="#000000">T</font></a>
&nbsp;
<a href="../u.html"><font
color="#000000">U</font></a>
&nbsp;
<a href="../v.html"><font
color="#000000">V</font></a>
&nbsp;
<a href="../w.html"><font
color="#000000">W</font></a>
&nbsp;
<a href="../x.html"><font
color="#000000">X</font></a>
&nbsp;
<a href="../y.html"><font
color="#000000">Y</font></a>
&nbsp;
<a href="../z.html"><font
color="#000000">Z</font></a>

</td></tr>
<tr bgcolor="black"><td colspan="3">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr bgcolor="white"><td colspan="1" width="2%">&nbsp;</td><td colspan="4">
<table border="0" width="100%">
<tr>
<td width="50%" align="left"><font size="+3">System Administration Commands</font></td><td width="20%" align="right"><font size="+3">pkgchk(1M)</font></td>
</tr>
</table>
<hr>
<ul type="disc">
<li>
<a href="#428414940">DESCRIPTION</a>
</li>
<li>
<a href="#-531492226">OPTIONS</a>
</li>
<li>
<a href="#282067146">OPERANDS</a>
</li>
<li>
<a href="#-1574761399">EXAMPLES</a>
</li>
<li>
<a href="#-1485726412">EXIT STATUS</a>
</li>
<li>
<a href="#890738007">ATTRIBUTES</a>
</li>
<li>
<a href="#1739557780">SEE ALSO</a>
</li>
</ul>
<hr>
<h2>
<a name="NAME">NAME</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">pkgchk - check package installation accuracy</td>
</tr>
</table>
<h2>SYNOPSIS</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom"><tt>pkgchk</tt> [ -l | -acfnqvx] [-i&nbsp;<i>file</i>]  [-p&nbsp;<i>path</i> ...]  [-R&nbsp;<i>root_path</i>]  [ [ -m <i>pkgmap</i> [-e <i>envfile</i>] ]  | pkginst ... | -Y <i>category</i>,<i>category</i>...]</td>
</tr>
</table>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom"><tt>pkgchk</tt> -d&nbsp;<i>device</i> [ -l | -fv] [-i&nbsp;<i>file</i>]  [-M]  [-p&nbsp;<i>path</i> ...]  [-V&nbsp;<i>fs_file</i>]  [ pkginst ... | -Y <i>category</i>[,<i>category</i>...]]</td>
</tr>
</table>
<h2>
<a name="428414940" href="#TOC">DESCRIPTION</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>
<tt>pkgchk</tt> checks the accuracy of installed files or, by using the -l option, displays information about package files. <tt>pkgchk</tt> checks the integrity of directory structures and files.
Discrepancies are written to standard error along with a detailed explanation of the problem.</p>
<p>The first synopsis defined above is used to list or check the contents and/or attributes of objects that are currently installed on the system, or in the indicated <tt>pkgmap</tt>. Package names may be listed on the command line, or by default, the entire contents of a machine will be
checked.</p>
<p>The second synopsis is used to list or check the contents of a package which has been spooled on the specified device, but not installed. Note that attributes cannot be checked for spooled packages.</p>
</td>
</tr>
</table>
<h2>
<a name="-531492226" href="#TOC">OPTIONS</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>The following options are supported:</p>
<dl compact="">
<dt>-a</dt>
<dd>Audit the file attributes only and do not check file contents. Default is to check both.</dd>
<dt>-c</dt>
<dd>Audit the file contents only and do not check file attributes. Default is to check both.</dd>
<dt>
<tt>-d</tt><i> device</i>
</dt>
<dd>Specify the device on which a spooled package resides. <i>device</i> can be a directory path name or the identifiers for tape, floppy disk, or removable disk (for example, <tt>/var/tmp</tt> or <tt>/dev/diskette</tt>).</dd>
<dt>
<tt>-e </tt><i>envfile</i>
</dt>
<dd>Request that the package information file named as <i>envfile</i> be used to resolve parameters noted in the specified <tt>pkgmap</tt> file.</dd>
<dt>-f</dt>
<dd>Correct file attributes if possible. If used with the -x option, this option removes hidden files. When <tt>pkgchk</tt> is invoked with this option, it creates directories, named pipes, links, and special devices if
they do not already exist. If the -d option calls out an uninstalled package, the -f option will only take effect if the package is in directory (not stream) format. All file attributes will be set to agree with the entries in the <tt>pkgmap</tt> file except that
setuid, setgid, and sticky bits will not be set in the mode.</dd>
<dt>
<tt>-i </tt><tt>file</tt>
</dt>
<dd>Read a list of path names from <tt>file</tt> and compare this list against the installation software database or the indicated <tt>pkgmap</tt> file. Path names which are not contained
in <tt>file</tt> are not checked.</dd>
<dt>-l</dt>
<dd>List information on the selected files that make up a package. This option is not compatible with the -a, -c, -f, -g, and -v options.</dd>
<dt>-m <tt>pkgmap</tt>
</dt>
<dd>Check the package against the package map file, <tt>pkgmap</tt>.</dd>
<dt>-M</dt>
<dd>Instruct <tt>pkgchk</tt> not to use the <tt>$</tt><i>root_path</i><tt>/etc/vfstab</tt> file for determining the client's mount points. This option assumes the mount points are correct on the
server and it behaves consistently with Solaris 2.5 and earlier releases.</dd>
<dt>-n</dt>
<dd>Do not check volatile or editable files' contents. This should be used for most post-installation checking. </dd>
<dt>
<tt>-p </tt><i>path</i>
</dt>
<dd>Only check the accuracy of the path name or path names listed. <i>path</i> can be one or more path names separated by commas (or by white space, if the list is quoted).</dd>
<dt>-q</dt>
<dd>Quiet mode.  Do not give messages about missing files.</dd>
<dt>-R<i> root_path</i>
</dt>
<dd>Define the full name of a directory to use as the <i>root_path</i>. All files, including package system information files, are relocated to a directory tree starting in the specified <i>root_path</i>. The <i>root_path</i> may be specified when installing to a client from a server (for example, <tt>/export/root/client1</tt>).</dd>
<dt>-v</dt>
<dd>Verbose mode. Files are listed as processed.</dd>
<dt>-V<i> fs_file</i>
</dt>
<dd>Specify an alternative <i>fs_file</i> to map the client's file systems. For example, used in situations where the <tt>$</tt><i>root_path</i><tt>/etc/vfstab</tt> file is non-existent or unreliable.</dd>
<dt>-x</dt>
<dd>Search exclusive directories, looking for files which exist that are not in the installation software database or the indicated <tt>pkgmap</tt> file.</dd>
<dt>-Y <i>category</i>
</dt>
<dd>Check packages based on the value of the <tt>CATEGORY</tt> parameter stored in the installed or spooled package's <a href="../hman4/pkginfo.4.html"><tt>pkginfo</tt>(4)</a> file.</dd>
</dl>
</td>
</tr>
</table>
<h2>
<a name="282067146" href="#TOC">OPERANDS</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<dl compact="">
<dt>
<i>pkginst</i>
</dt>
<dd>The package instance or instances to be checked. The format <i>pkginst</i><tt>.*</tt> can be used to check all instances of a package. The default is to display all information about all
installed packages.<p>The asterisk character (<tt>*</tt>) is a special character to some shells and may need to be escaped. In the C-Shell, "*" must be surrounded by single quotes (<tt>'</tt>) or preceded by a backslash (\);</p>
</dd>
</dl>
</td>
</tr>
</table>
<h2>
<a name="-1574761399" href="#TOC">EXAMPLES</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">Example  1. Using pkgchk for Displaying Package Installation Information<table border="0" width="100%">
<tr>
<td width="2%">&nbsp;</td><td width="98%">
<p>The following example displays package installation information for <tt>/usr/bin/ls</tt>:</p>
<p>
<table border="0" width="100%">
<tr>
<td width="2%">&nbsp;</td><td width="98%">
<pre>
<tt>example% pkgchk -l -p /usr/bin/ls</tt>
</pre>
</td>
</tr>
</table>
</p>
</td>
</tr>
</table>
</td>
</tr>
</table>
<h2>
<a name="-1485726412" href="#TOC">EXIT STATUS</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<dl compact="">
<dt>
<tt>0</tt>
</dt>
<dd>Successful completion.</dd>
<dt>
<tt>&gt;0</tt>
</dt>
<dd>An error occurred.</dd>
</dl>
</td>
</tr>
</table>
<h2>
<a name="890738007" href="#TOC">ATTRIBUTES</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>See <a href="../hman5/attributes.5.html"><tt>attributes</tt>(5)</a> for descriptions of the following attributes:</p>
<Table BORDER="1" COLS="2">
<tr>
<td align="center" valign="middle">ATTRIBUTE TYPE</td><td align="center" valign="middle">ATTRIBUTE VALUE</td>
</tr>
<tr>
<td align="left" valign="middle">Availability</td><td align="left" valign="middle">SUNWcsu</td>
</tr>
</Table>
</td>
</tr>
</table>
<h2>
<a name="1739557780" href="#TOC">SEE ALSO</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>
<a href="../hman1/pkginfo.1.html"><tt>pkginfo</tt>(1)</a>, <a href="../hman1/pkgtrans.1.html"><tt>pkgtrans</tt>(1)</a>, <a href="../hman1m/pkgadd.1m.html"><tt>pkgadd</tt>(1M)</a>, <a href="../hman1m/pkgask.1m.html"><tt>pkgask</tt>(1M)</a>, <a href="../hman1m/pkgrm.1m.html"><tt>pkgrm</tt>(1M)</a>, <a href="../hman4/pkginfo.4.html"><tt>pkginfo</tt>(4)</a>, <a href="../hman5/attributes.5.html"><tt>attributes</tt>( 5)</a>
</p>
<p>
<i>Application Packaging Developer's Guide</i>
</p>
</td>
</tr>
</table>
<hr>
<table width="100%">
<tr>
<td width="33%" align="left"><font size="+1">SunOS 5.9</font></td><td width="33%" align="center"><font size="+1"><a href="#TOC">Go To Top</a></font></td><td width="33%" align="right"><font size="+1">Last Changed  24 Sep 2001</font></td>
</tr>
</table>
<hr>

</td><td colspan="1"><div class="main"><!--startindex--> <!--stopindex--></div>&nbsp;</td></tr>
<tr bgcolor="white"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr bgcolor="#CCCCFF"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td align="right">&nbsp;</td><td>&nbsp;</td></tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="1">
<tr bgcolor="#000000">
<td height="5" align="center"><font color="#FFFFFF">
<!-- $Id: //doctools/online/man2html/main/templates/suncopyright#4 $ -->
Copyright 2002 Sun Microsystems, Inc.  All rights reserved.
Use is subject to license terms.

</font>
</td>
</tr>
</table>
</body>
</html>
