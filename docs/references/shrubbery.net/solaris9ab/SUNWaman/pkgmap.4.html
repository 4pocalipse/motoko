<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- $Id: //doctools/online/man2html/main/templates/doccd_template.html#7 $ -->
<html>
<head>
<title>SunOS man pages</title>
</head>
<body bgcolor="#666699">
<a name="TOC"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#000000">
<!-- LOGO/ID/GEN LINKS ROW BEGIN -->
<tr valign="top"><td rowspan="2" align="right" bgcolor="#666699" width="1%"><a href="http://www.sun.com"><img src="../graphics/sunlogo.gif" alt="Sun Microsystems, Inc." height="60" width="119" border="0"></a></td><td colspan="3" width="99%"><table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td valign="top" width="1"><img src="../graphics/dot.gif" alt="spacer" height="3" width="1"></td><td colspan="2" valign="top"><img src="../graphics/dot.gif" alt="spacer" height="1" width="500"></td></tr>
<tr><td rowspan="2" valign="top" bgcolor="#CCCCFF" width="1"><img src="../graphics/dot.gif" alt="spacer" height="19" width="1"></td><td class="tid" nowrap="nowrap" height="20">&nbsp;&nbsp;<a class="nonuw" href="http://www.sun.com">
<font color="#ffffff">www.sun.com</font></a></td>
<td class="gnlnk" align="right" nowrap="nowrap"> 
<a class="nonuw" href="http://docs.sun.com">
<font color="#ffffff">docs.sun.com</font></a> | <a class="nonuw" href=""></a> | <a class="nonuw"></a> | <a class="nonuw"></a>&nbsp;  </td></tr>
<tr><td colspan="2" width="100%"><img src="../graphics/dot.gif" alt="spacer" height="1" width="499"></td></tr>
<tr><td colspan="3" align="right" bgcolor="#CCCCFF"><img src="../graphics/fade.gif" alt="black dot" height="1" width="1"></td></tr>
</table></td></tr>
<tr bgcolor="#666699"><td height="35" align="center">&nbsp;
</td><td align="right"> </td><td>&nbsp;</td></tr>
<!-- PULL DOWN/SEARCH ROW END -->
</table><table width="100%" border="0" frame="box" rules="all" cellspacing="0" cellpadding="0">
<tr bgcolor="white"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
<tr bgcolor="#CCCCFF">
<td colspan="6" align="center" valign="middle" height="25"><font
size="+2">
</font></td>
</tr>
<tr bgcolor="#CCCCFF">
<td colspan="6" height="20" align="center">
<!-- $Id: //doctools/online/man2html/main/templates/alphaindex.html#2 $ -->
<a href="../a.html"><font
color="#000000">A</font></a>
&nbsp;
<a href="../b.html"><font
color="#000000">B</font></a>
&nbsp;
<a href="../c.html"><font
color="#000000">C</font></a>
&nbsp;
<a href="../d.html"><font
color="#000000">D</font></a>
&nbsp;
<a href="../e.html"><font
color="#000000">E</font></a>
&nbsp;
<a href="../f.html"><font
color="#000000">F</font></a>
&nbsp;
<a href="../g.html"><font
color="#000000">G</font></a>
&nbsp;
<a href="../h.html"><font
color="#000000">H</font></a>
&nbsp;
<a href="../i.html"><font
color="#000000">I</font></a>
&nbsp;
<a href="../j.html"><font
color="#000000">J</font></a>
&nbsp;
<a href="../k.html"><font
color="#000000">K</font></a>
&nbsp;
<a href="../l.html"><font
color="#000000">L</font></a>
&nbsp;
<a href="../m.html"><font
color="#000000">M</font></a>
&nbsp;
<a href="../n.html"><font
color="#000000">N</font></a>
&nbsp;
<a href="../o.html"><font
color="#000000">O</font></a>
&nbsp;
<a href="../p.html"><font
color="#000000">P</font></a>
&nbsp;
<a href="../q.html"><font
color="#000000">Q</font></a>
&nbsp;
<a href="../r.html"><font
color="#000000">R</font></a>
&nbsp;
<a href="../s.html"><font
color="#000000">S</font></a>
&nbsp;
<a href="../t.html"><font
color="#000000">T</font></a>
&nbsp;
<a href="../u.html"><font
color="#000000">U</font></a>
&nbsp;
<a href="../v.html"><font
color="#000000">V</font></a>
&nbsp;
<a href="../w.html"><font
color="#000000">W</font></a>
&nbsp;
<a href="../x.html"><font
color="#000000">X</font></a>
&nbsp;
<a href="../y.html"><font
color="#000000">Y</font></a>
&nbsp;
<a href="../z.html"><font
color="#000000">Z</font></a>

</td></tr>
<tr bgcolor="black"><td colspan="3">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr bgcolor="white"><td colspan="1" width="2%">&nbsp;</td><td colspan="4">
<table border="0" width="100%">
<tr>
<td width="50%" align="left"><font size="+3">File Formats</font></td><td width="20%" align="right"><font size="+3">pkgmap(4)</font></td>
</tr>
</table>
<hr>
<ul type="disc">
<li>
<a href="#428414940">DESCRIPTION</a>
</li>
<li>
<a href="#-1574761399">EXAMPLES</a>
</li>
<li>
<a href="#1739557780">SEE ALSO</a>
</li>
<li>
<a href="#74471073">NOTES</a>
</li>
</ul>
<hr>
<h2>
<a name="NAME">NAME</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">pkgmap - package contents description file</td>
</tr>
</table>
<h2>
<a name="428414940" href="#TOC">DESCRIPTION</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>
<tt>pkgmap</tt> is an <tt>ASCII</tt> file that provides a complete listing of the package contents. It is automatically generated by  <a href="../hman1/pkgmk.1.html"><tt>pkgmk</tt>(1)</a> using the information in the  <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> file.</p>
<p>Each entry in <tt>pkgmap</tt> describes a single ``deliverable object file.'' A deliverable object file includes shell scripts, executable objects, data files, directories, and so forth.
The entry consists of several fields of information, each field separated by a space. The fields are described below and must appear in the order shown.</p>
<dl compact="">
<dt>
<i>part</i>
</dt>
<dd>An optional field designating the part number  in which the object resides. A part
is a collection of files and is the atomic unit by which a package is processed. A developer can choose the criteria for grouping files into a part (for example, based on class). If no value is defined
in this field, part 1 is assumed.</dd>
<dt>
<i>ftype</i>
</dt>
<dd>A one-character field that indicates the file type. Valid values are: <dl compact="">
<dt>b</dt>
<dd>block special device</dd>
<dt>c</dt>
<dd>character special device</dd>
<dt>d</dt>
<dd>directory</dd>
<dt>e</dt>
<dd>a file to be edited upon installation or removal (may be shared by several packages)</dd>
<dt>f</dt>
<dd>a standard executable or data file</dd>
<dt>i</dt>
<dd>installation script or information file</dd>
<dt>l</dt>
<dd>linked file</dd>
<dt>p</dt>
<dd>named pipe</dd>
<dt>s</dt>
<dd>symbolic link</dd>
<dt>v</dt>
<dd>volatile file (one whose contents are expected to change, like a log file)</dd>
<dt>x</dt>
<dd>an exclusive directory accessible only by this package<p> </p>
</dd>
</dl>
</dd>
<dt>
<i>class</i>
</dt>
<dd>The installation class to which the file belongs. This name must contain only alphanumeric characters and be no longer
than 12 characters. It is not specified if the <i>ftype</i> is <tt>i</tt> (information file).</dd>
<dt>
<i>pathname</i>
</dt>
<dd>
<i>pathname</i> may contain variables of the form <tt>$</tt><i>variable</i>
that support install-time configuration of the file. <i>variable</i> may be embedded in the pathname structure. (See <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> for definitions of variable specifications.)<p>Do not use the following reserved words in <i>pathname</i>, since they are applied by  <a href="../hman1m/pkgadd.1m.html"><tt>pkgadd</tt>(1M)</a> using a different mechanism:</p>
<p>
<table border="0" width="100%">
<tr>
<td width="2%">&nbsp;</td><td width="98%">
<pre>PKG_INSTALL_ROOT
BASEDIR
CLIENT_BASEDIR</pre>
</td>
</tr>
</table>
</p>
</dd>
<dt>
<i>major</i>
</dt>
<dd>The major device number. The field is only specified for block or character special devices.</dd>
<dt>
<i>minor</i>
</dt>
<dd>The minor device number. The field is only specified for block or character special devices.</dd>
<dt>
<i>mode</i>
</dt>
<dd>The octal mode of the file (for example, 0664). A question mark (<tt>?</tt>) indicates that the mode will be
left unchanged, implying that the file already exists on the target machine. This field is not used for linked files, packaging information files, or non-installable files.<p>The mode can contain a variable specification. (See <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> for definitions
of variable specifications.)</p>
</dd>
<dt>
<i>owner</i>
</dt>
<dd>The owner of the file (for example, <tt>bin</tt> or <tt>root</tt>). The field is limited to 14 characters
in length. A question mark (<tt>?</tt>) indicates that the owner will be left unchanged, implying that the file already exists on the target machine. This field is not used for linked files or
non-installable files. It is used optionally with a package information file. If used, it indicates with what owner an installation script will be executed.<p>The owner can contain a variable specification. (See <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> for definitions
of variable specifications.)</p>
</dd>
<dt>
<i>group</i>
</dt>
<dd>The group to which the file belongs (for example, "bin" or "sys"). The field is limited to 14 characters in length.
A question mark (<tt>?</tt>) indicates that the group will be left unchanged, implying that the file already exists on the target machine. This field is not used for linked files or non-installable
files. It is used optionally with a package information file. If used, it indicates with what group an installation script will be executed.<p>The group can contain a variable specification. (See <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> for definitions
of variable specifications.)</p>
</dd>
<dt>
<i>size</i>
</dt>
<dd>The actual size of the file in bytes. This field is not specified for named pipes, special devices, directories or linked
files.</dd>
<dt>
<i>cksum</i>
</dt>
<dd>The checksum of the file contents. This field is not specified for named pipes, special devices, directories, or linked
files.</dd>
<dt>
<i>modtime</i>
</dt>
<dd>The time of last modification, as reported by the <a href="../hman2/stat.2.html"><tt>stat</tt>(2)</a> function call. This field is not specified for named pipes, special devices, directories, or linked files.</dd>
</dl>
<p>Each <tt>pkgmap</tt> file must have one line that provides information about the number of parts, maximum size of parts that make up the package, and, optionally, the size of the package
after compression (where size is given in 512-byte blocks). This line is in the following format:</p>
<p>
<tt>:</tt> <i>number_of_parts</i> <i> maximum_part_size</i> <i> compressed_pkg_size</i>
</p>
<p>Lines that begin with ``<tt>#</tt>'' are comment lines and are ignored.</p>
<p>When files are saved during installation before they are overwritten, they are normally just copied to a temporary pathname. However, for files whose mode includes execute permission (but which are
not editable), the existing version is linked to a temporary pathname and the original file is removed. This allows processes which are executing during installation to be overwritten.</p>
</td>
</tr>
</table>
<h2>
<a name="-1574761399" href="#TOC">EXAMPLES</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">Example  1. A sample pkgmap file<table border="0" width="100%">
<tr>
<td width="2%">&nbsp;</td><td width="98%">
<p>
<table border="0" width="100%">
<tr>
<td width="2%">&nbsp;</td><td width="98%">
<pre>
<tt>: 2 500
1 i pkginfo 237 1179 541296672
1 b class1 /dev/diskette 17 134 0644 root other
1 c class1 /dev/rdiskette 17 134 0644 root other
1 d none bin 0755 root bin
1 f none bin/INSTALL 0755 root bin 11103 17954 541295535
1 f none bin/REMOVE 0755 root bin 3214 50237 541295541
1 l none bin/UNINSTALL=bin/REMOVE
1 f none bin/cmda 0755 root bin 3580 60325 541295567
1 f none bin/cmdb 0755 root bin 49107 51255 541438368
1 f class1 bin/cmdc 0755 root bin 45599 26048 541295599
1 f class1 bin/cmdd 0755 root bin 4648 8473 541461238
1 f none bin/cmde 0755 root bin 40501 1264 541295622
1 f class2 bin/cmdf 0755 root bin 2345 35889 541295574
1 f none bin/cmdg 0755 root bin 41185 47653 541461242
2 d class2 data 0755 root bin
2 p class1 data/apipe 0755 root other
2 d none log 0755 root bin
2 v none log/logfile 0755 root bin 41815 47563 541461333
2 d none save 0755 root bin
2 d none spool 0755 root bin
2 d none tmp 0755 root bin</tt>
</pre>
</td>
</tr>
</table>
</p>
</td>
</tr>
</table>
</td>
</tr>
</table>
<h2>
<a name="1739557780" href="#TOC">SEE ALSO</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>
<a href="../hman1/pkgmk.1.html"><tt>pkgmk</tt>(1)</a>, <a href="../hman1m/pkgadd.1m.html"><tt>pkgadd</tt>(1M)</a>, <a href="../hman2/stat.2.html"><tt>stat</tt>(2)</a>, <a href="../hman4/pkginfo.4.html"><tt>pkginfo</tt>(4)</a>, <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a>
</p>
<p>
<i>Application Packaging Developer's Guide</i>
</p>
</td>
</tr>
</table>
<h2>
<a name="74471073" href="#TOC">NOTES</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>The <tt>pkgmap</tt> file may contain only one entry per unique pathname.</p>
</td>
</tr>
</table>
<hr>
<table width="100%">
<tr>
<td width="33%" align="left"><font size="+1">SunOS 5.9</font></td><td width="33%" align="center"><font size="+1"><a href="#TOC">Go To Top</a></font></td><td width="33%" align="right"><font size="+1">Last Changed  30 Apr 1999</font></td>
</tr>
</table>
<hr>

</td><td colspan="1"><div class="main"><!--startindex--> <!--stopindex--></div>&nbsp;</td></tr>
<tr bgcolor="white"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr bgcolor="#CCCCFF"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td align="right">&nbsp;</td><td>&nbsp;</td></tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="1">
<tr bgcolor="#000000">
<td height="5" align="center"><font color="#FFFFFF">
<!-- $Id: //doctools/online/man2html/main/templates/suncopyright#4 $ -->
Copyright 2002 Sun Microsystems, Inc.  All rights reserved.
Use is subject to license terms.

</font>
</td>
</tr>
</table>
</body>
</html>
