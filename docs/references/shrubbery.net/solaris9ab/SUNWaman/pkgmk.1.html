<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2//EN">
<!-- $Id: //doctools/online/man2html/main/templates/doccd_template.html#7 $ -->
<html>
<head>
<title>SunOS man pages</title>
</head>
<body bgcolor="#666699">
<a name="TOC"></a>
<table width="100%" border="0" cellspacing="0" cellpadding="0" bgcolor="#000000">
<!-- LOGO/ID/GEN LINKS ROW BEGIN -->
<tr valign="top"><td rowspan="2" align="right" bgcolor="#666699" width="1%"><a href="http://www.sun.com"><img src="../graphics/sunlogo.gif" alt="Sun Microsystems, Inc." height="60" width="119" border="0"></a></td><td colspan="3" width="99%"><table width="100%" border="0" cellspacing="0" cellpadding="0">
<tr><td valign="top" width="1"><img src="../graphics/dot.gif" alt="spacer" height="3" width="1"></td><td colspan="2" valign="top"><img src="../graphics/dot.gif" alt="spacer" height="1" width="500"></td></tr>
<tr><td rowspan="2" valign="top" bgcolor="#CCCCFF" width="1"><img src="../graphics/dot.gif" alt="spacer" height="19" width="1"></td><td class="tid" nowrap="nowrap" height="20">&nbsp;&nbsp;<a class="nonuw" href="http://www.sun.com">
<font color="#ffffff">www.sun.com</font></a></td>
<td class="gnlnk" align="right" nowrap="nowrap"> 
<a class="nonuw" href="http://docs.sun.com">
<font color="#ffffff">docs.sun.com</font></a> | <a class="nonuw" href=""></a> | <a class="nonuw"></a> | <a class="nonuw"></a>&nbsp;  </td></tr>
<tr><td colspan="2" width="100%"><img src="../graphics/dot.gif" alt="spacer" height="1" width="499"></td></tr>
<tr><td colspan="3" align="right" bgcolor="#CCCCFF"><img src="../graphics/fade.gif" alt="black dot" height="1" width="1"></td></tr>
</table></td></tr>
<tr bgcolor="#666699"><td height="35" align="center">&nbsp;
</td><td align="right"> </td><td>&nbsp;</td></tr>
<!-- PULL DOWN/SEARCH ROW END -->
</table><table width="100%" border="0" frame="box" rules="all" cellspacing="0" cellpadding="0">
<tr bgcolor="white"><td></td><td></td><td></td><td></td><td></td><td></td></tr>
<tr bgcolor="#CCCCFF">
<td colspan="6" align="center" valign="middle" height="25"><font
size="+2">
</font></td>
</tr>
<tr bgcolor="#CCCCFF">
<td colspan="6" height="20" align="center">
<!-- $Id: //doctools/online/man2html/main/templates/alphaindex.html#2 $ -->
<a href="../a.html"><font
color="#000000">A</font></a>
&nbsp;
<a href="../b.html"><font
color="#000000">B</font></a>
&nbsp;
<a href="../c.html"><font
color="#000000">C</font></a>
&nbsp;
<a href="../d.html"><font
color="#000000">D</font></a>
&nbsp;
<a href="../e.html"><font
color="#000000">E</font></a>
&nbsp;
<a href="../f.html"><font
color="#000000">F</font></a>
&nbsp;
<a href="../g.html"><font
color="#000000">G</font></a>
&nbsp;
<a href="../h.html"><font
color="#000000">H</font></a>
&nbsp;
<a href="../i.html"><font
color="#000000">I</font></a>
&nbsp;
<a href="../j.html"><font
color="#000000">J</font></a>
&nbsp;
<a href="../k.html"><font
color="#000000">K</font></a>
&nbsp;
<a href="../l.html"><font
color="#000000">L</font></a>
&nbsp;
<a href="../m.html"><font
color="#000000">M</font></a>
&nbsp;
<a href="../n.html"><font
color="#000000">N</font></a>
&nbsp;
<a href="../o.html"><font
color="#000000">O</font></a>
&nbsp;
<a href="../p.html"><font
color="#000000">P</font></a>
&nbsp;
<a href="../q.html"><font
color="#000000">Q</font></a>
&nbsp;
<a href="../r.html"><font
color="#000000">R</font></a>
&nbsp;
<a href="../s.html"><font
color="#000000">S</font></a>
&nbsp;
<a href="../t.html"><font
color="#000000">T</font></a>
&nbsp;
<a href="../u.html"><font
color="#000000">U</font></a>
&nbsp;
<a href="../v.html"><font
color="#000000">V</font></a>
&nbsp;
<a href="../w.html"><font
color="#000000">W</font></a>
&nbsp;
<a href="../x.html"><font
color="#000000">X</font></a>
&nbsp;
<a href="../y.html"><font
color="#000000">Y</font></a>
&nbsp;
<a href="../z.html"><font
color="#000000">Z</font></a>

</td></tr>
<tr bgcolor="black"><td colspan="3">&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr bgcolor="white"><td colspan="1" width="2%">&nbsp;</td><td colspan="4">
<table border="0" width="100%">
<tr>
<td width="50%" align="left"><font size="+3">User Commands</font></td><td width="20%" align="right"><font size="+3">pkgmk(1)</font></td>
</tr>
</table>
<hr>
<ul type="disc">
<li>
<a href="#428414940">DESCRIPTION</a>
</li>
<li>
<a href="#-531492226">OPTIONS</a>
</li>
<li>
<a href="#282067146">OPERANDS</a>
</li>
<li>
<a href="#-1485726412">EXIT STATUS</a>
</li>
<li>
<a href="#890738007">ATTRIBUTES</a>
</li>
<li>
<a href="#1739557780">SEE ALSO</a>
</li>
<li>
<a href="#74471073">NOTES</a>
</li>
</ul>
<hr>
<h2>
<a name="NAME">NAME</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">pkgmk - produce an installable package</td>
</tr>
</table>
<h2>SYNOPSIS</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom"><tt>pkgmk</tt> [-o]  [-a&nbsp;<i>arch</i>]  [-b&nbsp;<i>base_src_dir</i>]  [-d&nbsp;<i>device</i>]  [-f&nbsp;<i>prototype</i>]  [-l&nbsp;<i>limit</i>]  [-p&nbsp;<i>pstamp</i>]  [-r&nbsp;<i>root_path</i>]  [-v&nbsp;<i>version</i>]  [<i>variable=value</i> ...]  [<i>pkginst</i>] </td>
</tr>
</table>
<h2>
<a name="428414940" href="#TOC">DESCRIPTION</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>The <tt>pkgmk</tt> utility produces
an installable package to be used as input to the <a href="../hman1m/pkgadd.1m.html"><tt>pkgadd</tt>(1M)</a>
command. The package contents will be in directory structure format.</p>
<p>The command uses the package <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> file as input
and creates a <a href="../hman4/pkgmap.4.html"><tt>pkgmap</tt>(4)</a> file. The contents for each entry in the <tt>prototype</tt> file is copied to the appropriate output location. Information concerning the contents (checksum, file size, modification date) is computed and stored in the <tt>pkgmap</tt>
file, along with attribute information specified in the <tt>prototype</tt> file.</p>
<p>
<tt>pkgmk</tt> searches for the files listed in the <tt>prototype</tt>(4) file as described in the following conditions. <em>Note:</em> If a prototype file contains the explicit location of the file to include in the package, then the following search explanations do not apply.<ol>
<li>If neither -b nor -r options are specified, the file name component of each file path listed in the <tt>prototype</tt>(4) file is expected to be found in the same directory as the <tt>prototype</tt>(4) file</li>
<li>If -b is specified as a relative path (without a leading "<tt>/</tt>"), then <i>base_src_dir</i> is prepended to the relative file
paths from the <tt>prototype</tt>(4) file. The resulting path is searched for in the <i>root_path</i> directories.
If a <i>root_path</i> is not specified, it defaults to "<tt>/</tt>".</li>
<li>If -b is specified as an absolute path (with a leading "<tt>/</tt>"), then <i>base_src_dir</i> is prepended to the relative paths
from the <tt>prototype</tt>(4) file and the result is the location of the file. <i>root_path</i> is <em>not</em> searched.</li>
<li>If -r is specified, then full file paths are used from the <tt>prototype</tt>(4) file. Relative paths
have <i>base_src_dir</i> prepended. If <i>base_src_dir</i> is not specified, it defaults to "".  The resulting path is searched for in each directory of the <i>root_path</i>.</li>
</ol>
</p>
<p>If you created your prototype file using "<tt>pkgproto a/relative/path</tt>" or "<tt>pkgproto a/relative/path=install/path</tt>", then you should use the -r <i>root_path</i> option to specify the location of <tt>a/relative/path</tt> so that <tt>pkgmk</tt> can correctly locate your source files.</p>
</td>
</tr>
</table>
<h2>
<a name="-531492226" href="#TOC">OPTIONS</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>The following options are supported:</p>
<dl compact="">
<dt>-a <i>arch</i>
</dt>
<dd>Overrides the architecture information provided in the <a href="../hman4/pkginfo.4.html"><tt>pkginfo</tt>(4)</a> file with <i>arch</i>.</dd>
<dt>-b <i>base_src_dir</i>
</dt>
<dd>Prepends the indicated <i>base_src_dir</i> to locate relocatable objects on the source
machine. Use this option to search for all objects in the prototype file. <tt>pkgmk</tt> expects to find the objects in /<i>base_src_dir</i> or to locate the objects by use
of the -b and -r options, respectively.</dd>
<dt>-d <i>device</i>
</dt>
<dd>Creates the package on <i>device</i>. <i>device</i> can be an absolute
directory pathname or the identifiers for a floppy disk or removable disk (for example, <tt>/dev/diskette</tt>). The default device is the installation spool directory (<tt>/var/spool/pkg</tt>).</dd>
<dt>-f <i>prototype</i>
</dt>
<dd>Uses the file <i>prototype</i> as input to the command. The default <i>prototype</i> filename is [<tt>Pp</tt>]<tt>rototype</tt>.</dd>
<dt>-l <i>limit</i>
</dt>
<dd>Specifies the maximum size in 512 byte blocks of the output device as <tt>limit</tt>. By default,
if the output file is a directory or a mountable device, <tt>pkgmk</tt> will employ the <a href="../hman1m/df.1m.html"><tt>df</tt>(1M)</a> command to dynamically calculate the amount of available space on the output device. This option is useful in conjunction with <a href="../hman1/pkgtrans.1.html"><tt>pkgtrans</tt>(1)</a> to create a package with a datastream format.</dd>
<dt>-o</dt>
<dd>Overwrites the same instance; package instance will be overwritten if it already exists.</dd>
<dt>-p <i>pstamp</i>
</dt>
<dd>Overrides the production stamp definition in the <a href="../hman4/pkginfo.4.html"><tt>pkginfo</tt>(4)</a> file with <i>pstamp</i>.</dd>
<dt>-r <i>root_path</i>
</dt>
<dd>Uses the indicated <i>root_path</i> with the source pathname appended to locate objects
on the source machine, using a comma (<tt>,</tt>) as the separator for the path elements. If this option is specified, look for the full destination path in each of the directories specified.
If neither -b nor -r is specified, look for the leaf filename in the current directory.</dd>
<dt>-v <i>version</i>
</dt>
<dd>Overrides the version information provided in the <a href="../hman4/pkginfo.4.html"><tt>pkginfo</tt>(4)</a> file with <i>version</i>.</dd>
<dt>
<i>variable=value</i>
</dt>
<dd>Places the indicated variable in the packaging environment. (See <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> for definitions of variable specifications.)</dd>
</dl>
</td>
</tr>
</table>
<h2>
<a name="282067146" href="#TOC">OPERANDS</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>The following operand is supported:</p>
<dl compact="">
<dt>
<i>pkginst</i>
</dt>
<dd>A package designation by its instance. An instance can be the package abbreviation
or a specific instance (for example, <tt>inst.1</tt> or <tt>inst.2</tt>). All instances of a package can be requested by <tt>inst.*</tt>. The asterisk character (<tt>*</tt>) is a special character to some shells and may need to be escaped. In the C-Shell, "*" must be surrounded by single quotes (<tt>'</tt>) or preceded by a backslash (\).</dd>
</dl>
</td>
</tr>
</table>
<h2>
<a name="-1485726412" href="#TOC">EXIT STATUS</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>The following exit values are returned:</p>
<dl compact="">
<dt>
<tt>0</tt>
</dt>
<dd>Successful completion.</dd>
<dt>
<tt>&gt;0</tt>
</dt>
<dd>An error occurred.</dd>
</dl>
</td>
</tr>
</table>
<h2>
<a name="890738007" href="#TOC">ATTRIBUTES</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>See <a href="../hman5/attributes.5.html"><tt>attributes</tt>(5)</a> for descriptions of the following
attributes:</p>
<Table BORDER="1" COLS="2">
<tr>
<td align="center" valign="middle">ATTRIBUTE TYPE</td><td align="center" valign="middle">ATTRIBUTE VALUE</td>
</tr>
<tr>
<td align="left" valign="middle">Availability</td><td align="left" valign="middle">SUNWcsu</td>
</tr>
</Table>
</td>
</tr>
</table>
<h2>
<a name="1739557780" href="#TOC">SEE ALSO</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>
<a href="../hman1/pkgparam.1.html"><tt>pkgparam</tt>(1)</a>, <a href="../hman1/pkgproto.1.html"><tt>pkgproto</tt>(1)</a>, <a href="../hman1/pkgtrans.1.html"><tt>pkgtrans</tt>(1)</a>, <a href="../hman1/uname.1.html"><tt>uname</tt>(1)</a>, <a href="../hman1m/df.1m.html"><tt>df</tt>(1M)</a>, <a href="../hman1m/pkgadd.1m.html"><tt>pkgadd</tt>(1M)</a>, <a href="../hman4/pkginfo.4.html"><tt>pkginfo</tt>(4)</a>, <a href="../hman4/pkgmap.4.html"><tt>pkgmap</tt>(4)</a>, <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a>, <a href="../hman5/attributes.5.html"><tt>attributes</tt>(5)</a>
</p>
<p>
<i>Application Packaging Developer's Guide</i>
</p>
</td>
</tr>
</table>
<h2>
<a name="74471073" href="#TOC">NOTES</a>
</h2>
<table border="0" width="100%">
<tr>
<td width="5%" align="left">&nbsp;</td><td width="95%" align="left" valign="bottom">
<p>Architecture information is provided on the command line with the -a option or in the <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> file. If no architecture information is supplied, <tt>pkgmk</tt> uses the output of <tt>uname</tt> -m (see <a href="../hman1/uname.1.html"><tt>uname</tt>(1)</a>).</p>
<p>Version information is provided on the command line with the -v option or in the <a href="../hman4/pkginfo.4.html"><tt>pkginfo</tt>(4)</a> file. If no version information is supplied, a default based on  the current date will be provided.</p>
<p>Command line definitions for both architecture and version override the <a href="../hman4/prototype.4.html"><tt>prototype</tt>(4)</a> definitions.</p>
</td>
</tr>
</table>
<hr>
<table width="100%">
<tr>
<td width="33%" align="left"><font size="+1">SunOS 5.9</font></td><td width="33%" align="center"><font size="+1"><a href="#TOC">Go To Top</a></font></td><td width="33%" align="right"><font size="+1">Last Changed  10 Jan 2001</font></td>
</tr>
</table>
<hr>

</td><td colspan="1"><div class="main"><!--startindex--> <!--stopindex--></div>&nbsp;</td></tr>
<tr bgcolor="white"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td></tr>
<tr bgcolor="#CCCCFF"><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td>&nbsp;</td><td align="right">&nbsp;</td><td>&nbsp;</td></tr>
</table>
<table width="100%" border="0" cellspacing="0" cellpadding="1">
<tr bgcolor="#000000">
<td height="5" align="center"><font color="#FFFFFF">
<!-- $Id: //doctools/online/man2html/main/templates/suncopyright#4 $ -->
Copyright 2002 Sun Microsystems, Inc.  All rights reserved.
Use is subject to license terms.

</font>
</td>
</tr>
</table>
</body>
</html>
